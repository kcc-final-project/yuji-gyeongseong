<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.yujigyeongseong.api.domain.announcement.dao.AnnouncementMapper">

    <select id="selectAcceptionAnnouncementList" resultType="Announcement">
        SELECT
            ANN_NO AS annNo,
            TOTAL_ANN_NO AS totalAnnNo,
            TOTAL_TITLE AS totalTitle,
            COMPETENT_MINISTRY AS competentMinistry,
            SPEC_INSTITUTION AS specInstitution,
            ANN_TYPE AS annType,
            SUB_ANN_COUNT AS subAnnCount,
            RECEPTION_TYPE AS receptionType,
            STATUS AS status,
            FORMATDATETIME(STARTED_AT, 'yyyy-MM-dd') AS startedAt,
--             STARTED_AT AS startedAt,
            CLOSED_AT AS closedAt,
            CREATED_AT AS createdAt,
            UPDATED_AT AS updatedAt,
            BUCKET_NO AS bucketNo
        FROM
            announcement
        WHERE
            STATUS = '접수중';

    </select>

    <select id="selectExpectedAnnouncementList" resultType="Announcement">
        SELECT
            ANN_NO AS annNo,
            TOTAL_ANN_NO AS totalAnnNo,
            TOTAL_TITLE AS totalTitle,
            COMPETENT_MINISTRY AS competentMinistry,
            SPEC_INSTITUTION AS specInstitution,
            ANN_TYPE AS annType,
            SUB_ANN_COUNT AS subAnnCount,
            RECEPTION_TYPE AS receptionType,
            STATUS AS status,
            FORMATDATETIME(STARTED_AT, 'yyyy-MM-dd') AS startedAt,
--             STARTED_AT AS startedAt,
            CLOSED_AT AS closedAt,
            CREATED_AT AS createdAt,
            UPDATED_AT AS updatedAt,
            BUCKET_NO AS bucketNo
        FROM
            announcement
        WHERE
            STATUS = '접수예정';
    </select>
    <select id="selectDeadLineAnnouncementList" resultType="Announcement">
        SELECT
            ANN_NO AS annNo,
            TOTAL_ANN_NO AS totalAnnNo,
            TOTAL_TITLE AS totalTitle,
            COMPETENT_MINISTRY AS competentMinistry,
            SPEC_INSTITUTION AS specInstitution,
            ANN_TYPE AS annType,
            SUB_ANN_COUNT AS subAnnCount,
            RECEPTION_TYPE AS receptionType,
            STATUS AS status,
            FORMATDATETIME(STARTED_AT, 'yyyy-MM-dd') AS startedAt,
--             STARTED_AT AS startedAt,
            CLOSED_AT AS closedAt,
            CREATED_AT AS createdAt,
            UPDATED_AT AS updatedAt,
            BUCKET_NO AS bucketNo
        FROM
            announcement
        WHERE
            STATUS = '접수마감';
    </select>
</mapper>